(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"9cbb":function(t,e,a){"use strict";a.r(e);a("14d9");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[t._m(0),e("section",{staticClass:"container my-6"},[e("h1",{staticClass:"page_title mb-3"},[t._v("餐點專區")]),e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-md-8 col-lg-4"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchFilter,expression:"searchFilter",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.searchFilter},on:{input:[function(e){e.target.composing||(t.searchFilter=e.target.value.trim())},t.searchProducts],blur:function(e){return t.$forceUpdate()}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.searchProducts}},[e("i",{staticClass:"fas fa-search"})])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"list-group text-center"},[e("Category",{attrs:{categories:t.categories,currentOption:t.isCurrent},on:{getcategory:t.changeCategory}})],1)]),e("div",{staticClass:"col-md-8"},[(t.searchFilter||t.searchResult.length)&&0==t.searchResult.length?e("div",{staticClass:"alert alert-warning h-100 d-flex justify-content-center align-items-center"},[t._v(" 抱歉,依您的關鍵字「"+t._s(t.searchFilter)+"」搜尋不到產品呢... ")]):[e("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return e("div",{key:a.id,staticClass:"col-md-6"},[e("div",{staticClass:"item-card mb-5",on:{click:function(e){return t.$router.push("/ProductDetail/"+a.id)}}},[e("div",{staticClass:"item-image",style:{backgroundImage:"url("+a.imageUrl}},[e("div",{staticClass:"item-icon text-primary"},[t.setliked(a)?e("i",{staticClass:"fa fa-heart",staticStyle:{color:"white"},attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.changeFavorite(a)}}}):e("i",{staticClass:"fa fa-heart",on:{click:function(e){return e.stopPropagation(),t.changeFavorite(a)}}})]),e("div",{staticClass:"item-tag"},[t._v("特價中")])]),e("div",{staticClass:"item-body d-flex text-center"},[e("div",{staticClass:"item-name col"},[t._v(" "+t._s(a.title)+" ")]),e("div",{staticClass:"item-price col"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")])]),e("div",[a.id!==t.status.loadingItem?e("button",{staticClass:"btn-lg col btn-primary-lighter btn",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.addtoCart(a)}}},[t._v(" 加入購物車 ")]):t._e()])])])})),0)],e("Pagination",{attrs:{pages:t.pagination},on:{switchpage:t.setPagination}})],2)])]),t._m(1)])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container px-0 px-md-3"},[e("header",{staticClass:"header"},[e("div",{staticClass:"header-main-image bg-cover",staticStyle:{"background-image":"url(https://image.shutterstock.com/z/stock-photo-tasty-grilled-home-made-burger-with-beef-tomato-cheese-bacon-and-lettuce-on-a-light-stone-1482799622.jpg)"}}),e("h1",{staticClass:"text-hide"},[t._v("想吃漢堡不需要理由")]),e("h2",{staticClass:"header-image-context text-img text-md-vertical",staticStyle:{"background-color":"cadetblue"}},[t._v(" 想吃漢堡—— "),e("br"),e("span",{staticClass:"mt-4"},[t._v("是不需要理由的。")])])])])},function(){var t=this,e=t._self._c;return e("section",{staticClass:"py-5"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-5 d-flex align-items-center justify-content-center justify-content-md-start mb-4 mb-md-0"},[e("span",{staticClass:"mx-3 text-white h4 mb-0"},[t._v("定位你我的美味郵件")])]),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"form-square form-square-withicon d-flex justify-content-between"},[e("label",{staticClass:"form-square-icon-left fas fa-envelope",attrs:{for:"subscription"}},[e("p",{staticClass:"text-hide"},[t._v("email")])]),e("input",{staticClass:"form-input w-100 text-white",attrs:{type:"email",id:"subscription"}}),e("button",{staticClass:"btn btn-primary btn-lg d-flex align-items-center fas fa-arrow-right"},[e("p",{staticClass:"text-hide"},[t._v("arrow")])])])])])])])}],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-center align-items-center"},[e("ul",{staticClass:"pages"},[e("li",{staticClass:"page",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changepage(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("<")])])]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page",class:{active:t.pages.current_page===a}},[e("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changepage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"pageNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changepage(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v(">")])])])],2)])},c=[],n={name:"Pagination",props:["pages"],methods:{changepage(t){this.$emit("switchpage",t)}}},o=n,l=a("2877"),u=Object(l["a"])(o,r,c,!1,null,null,null),g=u.exports,h=function(){var t=this,e=t._self._c;return e("div",t._l(t.categories,(function(a,s){return e("button",{key:s,staticClass:"btn btn-dark btn-lg btn-block",class:{active:a===t.currentOption},attrs:{value:a},on:{click:function(e){return e.preventDefault(),t.getCategory(a)}}},[t._v(" "+t._s(a)+" ")])})),0)},p=[],d={name:"Category",props:["categories","currentOption"],methods:{getCategory(t){this.$emit("getcategory",t)}}},m=d,f=Object(l["a"])(m,h,p,!1,null,null,null),v=f.exports,C=a("2f62"),b={components:{Pagination:g,Category:v},data(){return{isCurrent:"全部商品",currentPageNum:1,showPages:"",pagination:{total_pages:"",current_page:"",has_pre:!1,has_next:!0},status:{loadingItem:""},searchFilter:"",searchResult:[],cart:[],favorites:[]}},methods:{setPagination(t){this.currentPageNum=t,this.pagination.total_pages=this.showPages,this.pagination.current_page=this.currentPageNum,this.currentPageNum<=1?this.pagination.has_pre=!1:this.pagination.has_pre=!0,this.currentPageNum>=this.pagination.total_pages?this.pagination.has_next=!1:this.pagination.has_next=!0},setShowData(t){const e=Math.ceil(t.length/8);this.showPages=e,this.setPagination(this.currentPageNum);const a=8*(parseInt(this.currentPageNum,10)-1),s=8*(parseInt(this.currentPageNum,10)-1)+8;return t.slice(a,s)},changeCategory(t="全部商品"){this.isCurrent=t,this.currentPageNum=1},addtoCart(t,e=1){const a=this;let s=-1;if(a.getCart(),a.cart.length>0&&a.cart.forEach((e,a)=>{e.id===t.id&&(s=a)}),-1===s){const s=parseInt(t.price*e,10);a.$set(t,"qty",e),a.$set(t,"total",s),a.cart.push(t)}else{const i={...a.cart[s]};i.qty+=e;const r=parseInt(t.price*i.qty,10);i.total=r,a.cart.splice(s,1),a.cart.push(i)}localStorage.setItem("cart",JSON.stringify(a.cart)),a.getCart(),a.$bus.$emit("message:push","商品已加入購物車","success"),a.$bus.$emit("cart:get"),a.status.loadingItem=""},getCart(){this.cart=JSON.parse(localStorage.getItem("cart"))||[]},getFavorites(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},changeFavorite(t){const e=this;let a=-1;e.favorites.length>0&&e.favorites.forEach((e,s)=>{e.id===t.id&&(a=s)}),-1===a?e.favorites.push(t):e.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(e.favorites)),console.log(e.favorites),e.getFavorites(),e.$bus.$emit("favor:get")},setliked(t){const e=this.favorites.filter(e=>e.id===t.id);return e.length>0},searchProducts(){const t=this;t.searchFilter?(t.searchResult=t.products.filter(e=>e.title.match(t.searchFilter)),console.log(t.searchResult)):t.searchResult=[]},...Object(C["b"])(["getProducts"])},computed:{filterProducts(){let t=this.products;if(this.isCurrent&&"全部商品"!==this.isCurrent&&(t=t.filter(t=>t.category===this.isCurrent)),this.searchFilter){const e=t.filter(t=>t.title.includes(this.searchFilter));return this.setShowData(e)}return this.setShowData(t)},...Object(C["c"])(["categories","products"])},created(){const t=this;t.$route.params.category&&(t.isCurrent=t.$route.params.category),t.getProducts(),t.getCart(),t.getFavorites(),t.$bus.$on("productFavor:get",()=>t.getFavorites())}},_=b,y=Object(l["a"])(_,s,i,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=about.54ba524e.js.map