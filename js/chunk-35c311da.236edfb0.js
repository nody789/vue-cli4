(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35c311da"],{"0247":function(t,s,a){"use strict";a("b002")},2944:function(t,s,a){"use strict";var e=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"py-4 bg-primary"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-5 d-flex flex-column justify-content-between"},[s("h2",{staticClass:"mb-3 mb-md-0",staticStyle:{"font-family":"cursive"}},[t._v(" 美味 Delicious ")]),s("ul",{staticClass:"list"},[s("li",[t._v("07-1234-5678")]),s("li",[t._v("Delicious@email.com")]),s("li",[t._v("800 新北市土城區青雲路")])])]),s("div",{staticClass:"col-md-5 text-right d-none d-md-block"},[s("h3",{staticClass:"h5 text-md-vertical text-center text-title d-none ml-auto d-md-block"},[t._v(" 今天是個—— "),s("br"),s("span",{staticClass:"mt-5"},[t._v("吃漢堡的好日子")])])])]),s("div",{staticClass:"row justify-content-center mt-4"},[s("div",{staticClass:"col-md-5 mt-2"},[s("a",{staticClass:"mr-1",staticStyle:{"font-size":"32px"},attrs:{href:"#"}},[s("i",{staticClass:"fab fa-facebook-square"})]),s("a",{staticStyle:{"font-size":"32px"},attrs:{href:"#"}},[s("i",{staticClass:"fab fa-instagram-square"})])]),s("div",{staticClass:"col-md-5 text-right mt-2"},[s("span",[t._v("© 2020 Delicious All Rights Reserved")])])])])])])}],r=a("2877"),n={},l=Object(r["a"])(n,e,i,!1,null,null,null);s["a"]=l.exports},"37b2":function(t,s,a){},4584:function(t,s,a){"use strict";a("14d9");var e=function(){var t=this,s=t._self._c;return s("div",[s("nav",{staticClass:"navbar navbar-expand-md bg-primary p-0"},[s("div",{staticClass:"container"},[t._m(0),t._m(1),s("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item active"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v(" 首頁")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"about"}},[t._v(" 餐點")])],1),s("li",{staticClass:"dropdown nav-item"},[s("div",{staticClass:"nav-link",class:{disabled:t.avoidClick},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",id:"favorList"}},[s("i",{staticClass:"fas fa-heart"},[t.favoriteslength>0?s("span",{staticClass:"badge"},[t._v(t._s(t.favoriteslength))]):t._e()])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right p-4",attrs:{"aria-labelledby":"favorList"}},[s("h5",{staticClass:"text-center"},[t._v("我的最愛")]),s("table",{staticClass:"table"},[s("tbody",t._l(t.favorites,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.addTocart(a)}}},[s("i",{staticClass:"fas fa-shopping-cart"})])]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.title)+" ")]),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeFavorites(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])])]),s("li",{staticClass:"dropdown nav-item"},[s("div",{staticClass:"nav-link",class:{disabled:t.avoidClick},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",id:"cartList"}},[s("i",{staticClass:"fas fa-shopping-cart"},[t.cartLength>0?s("span",{staticClass:"badge"},[t._v(" "+t._s(t.cartLength)+" ")]):t._e()])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right p-4",attrs:{"aria-labelledby":"cartList"}},[s("h5",{staticClass:"text-center"},[t._v("購物車")]),s("table",{staticClass:"table"},[s("tbody",t._l(t.cart,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.title)+" ")]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.qty)+t._s(a.unit)+" ")]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(t._f("currency")(a.total))+" ")]),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(s){return t.removeCart(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.total)))])]),t.cart.final_total!==t.cart.total?s("tr",[s("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),s("td",{staticClass:"text-right text-success"},[t._v(" "+t._s(t.cart.final_total)+" ")])]):t._e()])]),s("button",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:function(s){return t.$router.push("/Checkout")}}},[t._v(" 結帳去 ")])])])])])])])])},i=[function(){var t=this,s=t._self._c;return s("button",{staticClass:"navbar-toggler border-none d-md-none d-flex align-items-center",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon",staticStyle:{color:"white"}},[s("i",{staticClass:"fas fa-bars"})])])},function(){var t=this,s=t._self._c;return s("a",{staticClass:"navbar-brand text-white d-flex justify-content-center align-items-center mr-0",attrs:{href:"index.html"}},[s("img",{staticClass:"d-none d-md-inline-block mr-3",attrs:{src:"stylesheets/img/6icon.com_39151_f17IbY.png",height:"40",alt:""}}),s("div",{staticClass:"d-inline-block d-flex flex-column nav-title"},[s("h1",{staticClass:"text-title mb-0",staticStyle:{"letter-spacing":"5px"}},[t._v(" 美味漢堡 ")]),s("span",{staticClass:"h6 align-self-center",staticStyle:{"letter-spacing":"5px","font-family":"cursive"}},[t._v("delicious")])])])}],r=a("1157"),n=a.n(r),l={data(){return{favorites:{},favoriteslength:0,total:0,isLoading:!1,cart:{},cartLength:0}},methods:{getfavorites(){const t=this;t.favorites=JSON.parse(localStorage.getItem("favorites"))||[],t.favoriteslength=t.favorites.length},addTocart(t,s=1){const a=this;let e=-1;if(a.getCart(),a.cart.length>0&&a.cart.forEach((s,a)=>{s.id===t.id&&(e=a)}),-1===e){const e=parseInt(t.origin_price*s,10);a.$set(t,"qty",s),a.$set(t,"total",e),a.cart.push(t)}else{const i={...a.cart[e]};i.qty+=s;const r=parseInt(t.origin_price*i.qty,10);i.total=r,a.cart.splice(e,1),a.cart.push(i)}localStorage.setItem("cart",JSON.stringify(a.cart)),a.getCart(),a.$bus.$emit("message:push","商品已加入購物車","success")},removeCart(t){const s=this;let a=-1;s.cart.length>0&&s.cart.forEach((s,e)=>{s.id===t&&(a=e)}),s.cart.splice(a,1),localStorage.setItem("cart",JSON.stringify(s.cart)),s.$bus.$emit("message:push","商品已刪除","success"),s.getCart()},removeFavorites(t){const s=this,a=this.favorites.indexOf(t);this.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(this.favorites)),s.$bus.$emit("message:push","商品已刪除","success"),this.$bus.$emit("productFavor:get"),this.getfavorites()},getCart(){const t=this;t.cart=JSON.parse(localStorage.getItem("cart"))||[],t.total=0,t.cartLength=0,t.cart.forEach(s=>{t.total+=s.total,t.cartLength+=s.qty}),console.log(t.cart)}},computed:{avoidClick(){return("/Checkout"===this.$route.path||"/buyer_info"===this.$route.path)&&(n()("#cartList").dropdown("hide"),n()("#favorList").dropdown("hide"),!0)}},mounted(){0===this.cartLength&&n()("#cartDropdown").dropdown("show")},created(){this.getCart(),this.$bus.$on("cart:get",()=>this.getCart()),this.getfavorites(),this.$bus.$on("favor:get",()=>this.getfavorites())}},c=l,o=(a("0247"),a("2877")),d=Object(o["a"])(c,e,i,!1,null,null,null);s["a"]=d.exports},"56a6":function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,e){return s("div",{key:e,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(s){return t.removeMessage(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(a("14d9"),{name:"Alert",data(){return{messages:[]}},methods:{updateMessage(t,s){const a=Math.floor(new Date/1e3);this.messages.push({message:t,status:s,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage(t){this.messages.splice(t,1)},removeMessageWithTiming(t){const s=this;setTimeout(()=>{s.messages.forEach((a,e)=>{a.timestamp===t&&s.messages.splice(e,1)})},5e3)}},created(){const t=this;t.$bus.$on("message:push",(s,a="warning")=>{t.updateMessage(s,a)})}}),n=r,l=(a("b575"),a("2877")),c=Object(l["a"])(n,e,i,!1,null,null,null);s["a"]=c.exports},"88e9":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home container-fluid px-0"},[s("Navber"),s("Alert"),s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),s("router-view"),s("HomeFooter")],1)},i=[],r=a("2944"),n=a("4584"),l=a("56a6"),c={name:"Layout",components:{HomeFooter:r["a"],Alert:l["a"],Navber:n["a"]},computed:{isLoading(){return this.$store.state.isLoading}}},o=c,d=a("2877"),u=Object(d["a"])(o,e,i,!1,null,null,null);s["default"]=u.exports},b002:function(t,s,a){},b575:function(t,s,a){"use strict";a("37b2")}}]);
//# sourceMappingURL=chunk-35c311da.236edfb0.js.map