{"version":3,"sources":["webpack:///./src/views/front/checkout.vue","webpack:///src/views/front/checkout.vue","webpack:///./src/views/front/checkout.vue?837c","webpack:///./src/views/front/checkout.vue?dbfd","webpack:///./src/components/progressStep.vue","webpack:///src/components/progressStep.vue","webpack:///./src/components/progressStep.vue?f8bf","webpack:///./src/components/progressStep.vue?96fc"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","on","$event","cureent","_v","_l","cart","item","key","id","imageUrl","title","_s","preventDefault","changeNum","directives","name","rawName","value","qty","expression","domProps","changeAmount","target","composing","$set","_f","price","removeCart","cartitemqty","total","$router","push","clicked","goNextPage","apply","arguments","class","doubleclick","preventDClicked","confirmCart","_m","staticRenderFns","components","ProgressStep","data","step","cartLength","goNext","methods","getCart","vm","JSON","parse","localStorage","getItem","length","forEach","product","num","parseInt","productIndex","index","origin_price","setItem","stringify","$bus","$emit","pro","indexOf","splice","api","cartinfo","product_id","$http","post","then","response","success","message","setTimeout","console","log","beforeRouteLeave","to","from","next","$","modal","created","component","now","current","props"],"mappings":"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","file":"js/chunk-92bc3454.49bfa776.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container orders_check\"},[_c('ProgressStep',{staticClass:\"py-4\",attrs:{\"current\":_vm.cureent}}),_c('h3',[_vm._v(\"確認購買清單\")]),_c('ul',{staticClass:\"order\"},[_vm._l((_vm.cart),function(item){return _c('li',{key:item.id,staticClass:\"pb-3 orderList\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 p-0\"},[_c('div',{staticClass:\"pro-img\"},[_c('img',{attrs:{\"src\":item.imageUrl,\"alt\":item.title}})])]),_c('div',{staticClass:\"col-6 p-0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-6\"},[_c('div',{staticClass:\"pro-name\"},[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"col-12 col-md-6\"},[_c('div',{staticClass:\"numControl d-flex\"},[_c('button',{staticClass:\"btn-minus\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeNum(item, -1)}}},[_c('i',{staticClass:\"fa fa-minus\",attrs:{\"aria-hidden\":\"true\"}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.qty),expression:\"item.qty\"}],staticClass:\"amount\",attrs:{\"type\":\"number\",\"max\":\"10\",\"min\":\"1\"},domProps:{\"value\":(item.qty)},on:{\"change\":function($event){return _vm.changeAmount(item, item.qty)},\"input\":function($event){if($event.target.composing)return;_vm.$set(item, \"qty\", $event.target.value)}}}),_c('button',{staticClass:\"btn-plus\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeNum(item, 1)}}},[_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"}})])])])])]),_c('div',{staticClass:\"col-2 p-0\"},[_c('div',{staticClass:\"pro_price\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(item.price)))])]),_c('div',{staticClass:\"col-1 p-0\"},[_c('div',{staticClass:\"pro_del\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeCart(item)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])])])])}),_c('li',{staticClass:\"pt-4\"},[_c('div',{staticClass:\"row summary\"},[_c('div',{staticClass:\"col-7 p-0\"},[_vm._v(\"共\"+_vm._s(_vm.cartitemqty)+\"件\")]),_c('div',{staticClass:\"col-2 p-0\"}),_c('div',{staticClass:\"col-2 p-0\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.total)))]),_c('div',{staticClass:\"col-1 p-0\"})])])],2),_c('div',{staticClass:\"gocheck\"},[_c('button',{staticClass:\"btn-back\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.push('about')}}},[_c('i',[_vm._v(\"繼續購物\")])]),(_vm.clicked === true)?_c('button',{staticClass:\"btn-check\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goNextPage.apply(null, arguments)}}},[_c('i'),_vm._v(\"填寫資料 \")]):_c('button',{staticClass:\"btn-check btn_confirmcart\",class:{ doubleclick: _vm.preventDClicked === true },attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.confirmCart.apply(null, arguments)}}},[_c('i'),_vm._v(\"下一步 \")])])],1),_vm._m(0),_vm._m(1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"py-5\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-5 d-flex align-items-center justify-content-center justify-content-md-start mb-4 mb-md-0\"},[_c('img',{attrs:{\"src\":\"stylesheets/img/6icon.com_39151_f17IbY.png\",\"alt\":\"\",\"width\":\"40\",\"height\":\"40\"}}),_c('span',{staticClass:\"mx-3 text-white h4 mb-0\"},[_vm._v(\"定位你我的美味郵件\")])]),_c('div',{staticClass:\"col-md-5\"},[_c('div',{staticClass:\"form-square form-square-withicon d-flex justify-content-between\"},[_c('label',{staticClass:\"form-square-icon-left fas fa-envelope\",attrs:{\"for\":\"subscription\"}},[_c('p',{staticClass:\"text-hide\"},[_vm._v(\"email\")])]),_c('input',{staticClass:\"form-input w-100\",attrs:{\"type\":\"email\",\"id\":\"subscription\"}}),_c('button',{staticClass:\"btn btn-primary btn-lg d-flex align-items-center fas fa-arrow-right\"},[_c('p',{staticClass:\"text-hide\"},[_vm._v(\"arrow\")])])])])])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"leaveWarn\",\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title text-light\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\" PURE SAVON \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',{staticClass:\"text-dark\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_vm._v(\"尚未完成訂購流程，請確認是否離開此頁? \")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-cancel\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"btn btn-leave\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\" 確定 \")])])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <loading :active.sync=\"isLoading\"> </loading>\n\n    <div class=\"container orders_check\">\n      <ProgressStep :current=\"cureent\" class=\"py-4\"></ProgressStep>\n\n      <h3>確認購買清單</h3>\n      <ul class=\"order\">\n        <li v-for=\"item in cart\" :key=\"item.id\" class=\"pb-3 orderList\">\n          <div class=\"row\">\n            <div class=\"col-3 p-0\">\n              <div class=\"pro-img\">\n                <img :src=\"item.imageUrl\" :alt=\"item.title\" />\n              </div>\n            </div>\n            <div class=\"col-6 p-0\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-6\">\n                  <div class=\"pro-name\">{{ item.title }}</div>\n                </div>\n                <div class=\"col-12 col-md-6\">\n                  <div class=\"numControl d-flex\">\n                    <button\n                      type=\"button\"\n                      class=\"btn-minus\"\n                      @click.prevent=\"changeNum(item, -1)\"\n                    >\n                      <i class=\"fa fa-minus\" aria-hidden=\"true\"></i>\n                    </button>\n                    <input\n                      class=\"amount\"\n                      type=\"number\"\n                      max=\"10\"\n                      min=\"1\"\n                      v-model=\"item.qty\"\n                      @change=\"changeAmount(item, item.qty)\"\n                    />\n                    <button\n                      type=\"button\"\n                      class=\"btn-plus\"\n                      @click.prevent=\"changeNum(item, 1)\"\n                    >\n                      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-2 p-0\">\n              <div class=\"pro_price\">NT{{ item.price | currency }}</div>\n            </div>\n            <div class=\"col-1 p-0\">\n              <div class=\"pro_del\" @click.prevent=\"removeCart(item)\">\n                <i class=\"fas fa-trash-alt\"></i>\n              </div>\n            </div>\n          </div>\n        </li>\n        <li class=\"pt-4\">\n          <div class=\"row summary\">\n            <div class=\"col-7 p-0\">共{{ cartitemqty }}件</div>\n            <div class=\"col-2 p-0\"></div>\n            <div class=\"col-2 p-0\">NT{{ total | currency }}</div>\n            <div class=\"col-1 p-0\"></div>\n          </div>\n        </li>\n      </ul>\n      <div class=\"gocheck\">\n        <button\n          type=\"button\"\n          class=\"btn-back\"\n          @click.prevent=\"$router.push('about')\"\n        >\n          <i>繼續購物</i>\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn-check\"\n          v-if=\"clicked === true\"\n          @click.prevent=\"goNextPage\"\n        >\n          <i></i>填寫資料\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn-check btn_confirmcart\"\n          v-else\n          @click.prevent=\"confirmCart\"\n          :class=\"{ doubleclick: preventDClicked === true }\"\n        >\n          <i></i>下一步\n        </button>\n      </div>\n    </div>\n\n    <section class=\"py-5\">\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n          <div\n            class=\"col-md-5 d-flex align-items-center\n            justify-content-center\n            justify-content-md-start mb-4 mb-md-0\"\n          >\n            <img\n              src=\"stylesheets/img/6icon.com_39151_f17IbY.png\"\n              alt=\"\"\n              width=\"40\"\n              height=\"40\"\n            />\n            <span class=\"mx-3 text-white h4 mb-0\">定位你我的美味郵件</span>\n          </div>\n          <div class=\"col-md-5\">\n            <div\n              class=\"form-square form-square-withicon d-flex justify-content-between\"\n            >\n              <label\n                for=\"subscription\"\n                class=\"form-square-icon-left fas fa-envelope\"\n              >\n                <p class=\"text-hide\">email</p>\n              </label>\n              <input type=\"email\" id=\"subscription\" class=\"form-input w-100\" />\n              <button\n                class=\"btn btn-primary btn-lg d-flex align-items-center fas fa-arrow-right\"\n              >\n                <p class=\"text-hide\">arrow</p>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <div\n      class=\"modal fade\"\n      id=\"leaveWarn\"\n      tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">\n              PURE SAVON\n            </h5>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <p class=\"text-dark\">\n              <i class=\"fas fa-exclamation-circle\"></i\n              >尚未完成訂購流程，請確認是否離開此頁?\n            </p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-cancel\" data-dismiss=\"modal\">\n              取消\n            </button>\n            <button type=\"button\" class=\"btn btn-leave\" data-dismiss=\"modal\">\n              確定\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport ProgressStep from '@/components/progressStep.vue';\n\nexport default {\n  components: {\n    ProgressStep,\n  },\n\n  data() {\n    return {\n      step: 1,\n      cart: [],\n      cartLength: 0,\n      total: 0,\n      goNext: false,\n      clicked: false,\n      cartitemqty: 0,\n      isLoading: false,\n      preventDClicked: false,\n      cureent: 1,\n    };\n  },\n\n  methods: {\n    getCart() {\n      const vm = this;\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\n      vm.cartLength = vm.cart.length;\n      vm.total = 0;\n      vm.cartitemqty = 0;\n      vm.cart.forEach((item) => {\n        vm.total += item.total;\n        vm.cartitemqty += item.qty;\n      });\n      if (vm.cartLength === 0) {\n        vm.goNext = true;\n        vm.$router.push('about');\n      }\n    },\n    changeNum(product, num) {\n      const qty = parseInt(product.qty + num, 10);\n      this.changeAmount(product, qty);\n    },\n    changeAmount(product, num) {\n      const vm = this;\n      let productIndex = -1;\n      if (vm.cart.length > 0) {\n        vm.cart.forEach((item, index) => {\n          if (item.id === product.id) {\n            productIndex = index;\n          }\n        });\n      }\n      if (num >= 10) {\n        vm.cart[productIndex].qty = 10;\n      } else if (num <= 1) {\n        vm.cart[productIndex].qty = 1;\n      } else {\n        vm.cart[productIndex].qty = num;\n      }\n      const total = parseInt(\n        vm.cart[productIndex].origin_price * vm.cart[productIndex].qty,\n        10,\n      );\n      vm.cart[productIndex].total = total;\n      localStorage.setItem('cart', JSON.stringify(vm.cart));\n      vm.$bus.$emit('cart:get');\n      vm.getCart();\n    },\n    removeCart(pro) {\n      const vm = this;\n      const index = vm.cart.indexOf(pro);\n      vm.cart.splice(index, 1);\n      localStorage.setItem('cart', JSON.stringify(vm.cart));\n      vm.$bus.$emit('cart:get');\n      vm.$bus.$emit('message:push', '已刪除購物車商品', 'success');\n      vm.getCart();\n    },\n    confirmCart() {\n      // 利用api加入後台購物車中\n      const vm = this;\n      vm.preventDClicked = true;\n      vm.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\n      vm.cart.forEach((item) => {\n        const cartinfo = {\n          product_id: item.id,\n          qty: item.qty,\n          price: item.total,\n        };\n        vm.$http.post(api, { data: cartinfo }).then((response) => {\n          if (!response.data.success) {\n            vm.$bus.$emit('message:push', response.data.message, 'danger');\n          }\n        });\n      });\n      setTimeout(() => {\n        vm.isLoading = false;\n        vm.clicked = true;\n      }, 1000);\n    },\n    goNextPage() {\n      this.goNext = true;\n      this.$router.push('/Checkout1');\n      console.log('push');\n    },\n  },\n  beforeRouteLeave(to, from, next) {\n    const vm = this;\n    if (vm.goNext) {\n      next();\n    } else {\n      $('#leaveWarn').modal('show');\n      $('.btn-cancel').on('click', () => {\n        next(false);\n      });\n      $('.btn-leave').on('click', () => {\n        next();\n      });\n    }\n  },\n  created() {\n    const vm = this;\n    vm.getCart();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkout.vue?vue&type=template&id=3dfe99eb&\"\nimport script from \"./checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"progressStep\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"step\",class:{ now: _vm.current === 1 }},[_c('p',[_vm._v(\"01 確認購買\")])])]),_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"step\",class:{ now: _vm.current === 2 }},[_c('p',[_vm._v(\"02 填寫資料\")])])]),_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"step\",class:{ now: _vm.current === 3 }},[_c('p',[_vm._v(\"03 完成訂單\")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"progressStep\">\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <div class=\"step\" :class=\"{ now: current === 1 }\">\n          <p>01 確認購買</p>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"step\" :class=\"{ now: current === 2 }\">\n          <p>02 填寫資料</p>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"step\" :class=\"{ now: current === 3 }\">\n          <p>03 完成訂單</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProgressStep',\n  props: ['current'],\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./progressStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./progressStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./progressStep.vue?vue&type=template&id=7b6ceefc&\"\nimport script from \"./progressStep.vue?vue&type=script&lang=js&\"\nexport * from \"./progressStep.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}