{"version":3,"sources":["webpack:///./src/views/front/ProductDetail.vue","webpack:///src/views/front/ProductDetail.vue","webpack:///./src/views/front/ProductDetail.vue?0a0a","webpack:///./src/views/front/ProductDetail.vue?bf76"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","on","$event","preventDefault","$router","push","_v","name","params","category","product","_s","title","imageUrl","price","_e","_f","origin_price","changeNum","directives","rawName","value","productnum","expression","domProps","changeAmount","target","composing","addToCart","description","content","_l","filterSimilars","item","key","id","goRelated","staticRenderFns","data","similarproducts","productId","cart","methods","getProduct","vm","$route","product_id","api","$http","get","then","response","console","log","getSimilarproducts","process","VUE_APPCUSTOMPATH","products","qty","productIndex","getCart","length","forEach","index","total","parseInt","$set","tempProduct","splice","localStorage","setItem","JSON","stringify","$bus","$emit","parse","getItem","amount","num","computed","filter","created","component"],"mappings":"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","file":"js/chunk-2d0c7eb5.c31f7e77.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[_c('nav',{staticClass:\"breadmark\",attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ul',{staticClass:\"breadcrumb mb-0\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.push('/')}}},[_vm._v(\"首頁\")])]),_c('li',{staticClass:\"breadcrumb-item\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.push('About')}}},[_vm._v(\"商店\")])]),_c('li',{staticClass:\"breadcrumb-item\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.push({\n                name: 'About',\n                params: { category: _vm.product.category },\n              })}}},[_vm._v(\"系列\")])]),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\" \"+_vm._s(_vm.product.title)+\" \")])])])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row product_info\"},[_c('div',{staticClass:\"col-lg-6 col-md-7\"},[_c('div',{staticClass:\"product_pic\"},[_c('img',{attrs:{\"src\":_vm.product.imageUrl,\"alt\":_vm.product.title}})])]),_c('div',{staticClass:\"col-lg-6 col-md-5\"},[_c('ul',{staticClass:\"product_meta\"},[_c('li',[_c('h3',[_vm._v(_vm._s(_vm.product.title))])]),_c('li',[(!_vm.product.price)?_c('p',{staticClass:\"origin_pricesolo\"},[_vm._v(\" NT\"+_vm._s(_vm._f(\"currency\")(_vm.product.origin_price))+\" \")]):_vm._e(),(_vm.product.price)?_c('del',{staticClass:\"origin_price\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.product.origin_price)))]):_vm._e()]),_c('li',[(_vm.product.price)?_c('p',{staticClass:\"salesprice\"},[_vm._v(\" NT\"+_vm._s(_vm._f(\"currency\")(_vm.product.price))+\" \")]):_vm._e()]),_c('li',[_c('div',{staticClass:\"numControl d-flex justify-content-start align-items-center\"},[_c('button',{staticClass:\"btn-minus btn\",attrs:{\"type\":\"button\",\"data-quantity\":\"minus\",\"data-field\":\"quantity\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeNum(-1)}}},[_c('i',{staticClass:\"fa fa-minus\",attrs:{\"aria-hidden\":\"true\"}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.productnum),expression:\"productnum\"}],staticClass:\"amount\",attrs:{\"type\":\"number\",\"max\":\"10\",\"min\":\"1\"},domProps:{\"value\":(_vm.productnum)},on:{\"change\":function($event){return _vm.changeAmount(_vm.productnum)},\"input\":function($event){if($event.target.composing)return;_vm.productnum=$event.target.value}}}),_c('button',{staticClass:\"btn-plus btn\",attrs:{\"type\":\"button\",\"data-quantity\":\"plus\",\"data-field\":\"quantity\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changeNum(1)}}},[_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('button',{staticClass:\"btn-cart mt-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(_vm.product, _vm.productnum)}}},[_c('i',{staticClass:\"fas fa-shopping-cart\"}),_vm._v(\"加入購物車 \")])]),_c('li',[_c('p',{staticClass:\"product_des\"},[_vm._v(_vm._s(_vm.product.description))])]),_c('li',[_c('p',{staticClass:\"product_con\"},[_vm._v(_vm._s(_vm.product.content))])])])])])]),_c('div',{staticClass:\"container mt-4\"},[_c('h3',[_vm._v(\"相關產品\")]),_c('div',{staticClass:\"row\"},_vm._l((_vm.filterSimilars),function(item){return _c('div',{key:item.id,staticClass:\"col-md-4 col-sm-6 col-12 d-flex justify-content-start align-item-center\"},[_c('div',{staticClass:\"item-card\",on:{\"click\":function($event){$event.preventDefault();return _vm.goRelated(item.id)}}},[_c('div',{staticClass:\"product_pic\"},[_c('img',{attrs:{\"src\":item.imageUrl,\"alt\":item.title}}),_c('div',{staticClass:\"item-tag\"},[_vm._v(\"特價中\")])]),_c('div',{staticClass:\"bottom\"},[_c('h3',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"price\"},[_vm._v(\"NT$\"+_vm._s(item.origin_price))])])])])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <loading :active.sync=\"isLoading\"> </loading>\n    <div class=\"container\">\n      <nav aria-label=\"breadcrumb\" class=\"breadmark\">\n        <ul class=\"breadcrumb mb-0\">\n          <li class=\"breadcrumb-item\">\n            <a href=\"#\" @click.prevent=\"$router.push('/')\">首頁</a>\n          </li>\n          <li class=\"breadcrumb-item\">\n            <a href=\"#\" @click.prevent=\"$router.push('About')\">商店</a>\n          </li>\n          <li class=\"breadcrumb-item\">\n            <a\n              href=\"#\"\n              @click.prevent=\"\n                $router.push({\n                  name: 'About',\n                  params: { category: product.category },\n                })\n              \"\n              >系列</a\n            >\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">\n            {{ product.title }}\n          </li>\n        </ul>\n      </nav>\n    </div>\n    <div class=\"container\">\n      <div class=\"row product_info\">\n        <div class=\"col-lg-6 col-md-7\">\n          <div class=\"product_pic\">\n            <img  :src=\"product.imageUrl\" :alt=\"product.title\" />\n          </div>\n        </div>\n        <div class=\"col-lg-6 col-md-5\">\n          <ul class=\"product_meta\">\n            <li>\n              <h3>{{ product.title }}</h3>\n            </li>\n            <li>\n              <p class=\"origin_pricesolo\" v-if=\"!product.price\">\n                NT{{ product.origin_price | currency }}\n              </p>\n              <del class=\"origin_price\" v-if=\"product.price\"\n                >NT{{ product.origin_price | currency }}</del\n              >\n            </li>\n            <li>\n              <p class=\"salesprice\" v-if=\"product.price\">\n                NT{{ product.price | currency }}\n              </p>\n            </li>\n            <li>\n              <div\n                class=\"numControl d-flex justify-content-start align-items-center\"\n              >\n                <button\n                  type=\"button\"\n                  class=\"btn-minus btn\"\n                  data-quantity=\"minus\"\n                  data-field=\"quantity\"\n                  @click.prevent=\"changeNum(-1)\"\n                >\n                  <i class=\"fa fa-minus\" aria-hidden=\"true\"></i>\n                </button>\n                <input\n                  class=\"amount\"\n                  type=\"number\"\n                  max=\"10\"\n                  min=\"1\"\n                  v-model=\"productnum\"\n                  @change=\"changeAmount(productnum)\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"btn-plus btn\"\n                  data-quantity=\"plus\"\n                  data-field=\"quantity\"\n                  @click.prevent=\"changeNum(1)\"\n                >\n                  <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                </button>\n              </div>\n              <button\n                type=\"button\"\n                class=\"btn-cart mt-2\"\n                @click.prevent=\"addToCart(product, productnum)\"\n              >\n                <i class=\"fas fa-shopping-cart\"></i>加入購物車\n              </button>\n            </li>\n            <li>\n              <p class=\"product_des\">{{ product.description }}</p>\n            </li>\n            <li>\n              <p class=\"product_con\">{{ product.content }}</p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    <div class=\"container mt-4\">\n      <h3>相關產品</h3>\n      <div class=\"row\">\n        <div\n          class=\"col-md-4 col-sm-6 col-12 d-flex justify-content-start align-item-center\"\n          v-for=\"item in filterSimilars\"\n          :key=\"item.id\"\n        >\n          <div class=\"item-card\" @click.prevent=\"goRelated(item.id)\">\n            <div class=\"product_pic\">\n              <img :src=\"item.imageUrl\" :alt=\"item.title\" />\n              <div class=\"item-tag\">特價中</div>\n            </div>\n            <div class=\"bottom\">\n              <h3>{{ item.title }}</h3>\n              <div class=\"price\">NT${{ item.origin_price }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      product: [], // 單件商品資料\n      similarproducts: [],\n      productId: '', // 儲存 router 傳遞的 id 參數\n      cart: [], // 存 localstorage-購物車 資料\n      isLoading: false,\n      productnum: 1,\n    };\n  },\n  methods: {\n    // 取得單件商品資料\n    getProduct() {\n      const vm = this;\n      vm.productId = vm.$route.params.product_id;\n      vm.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${vm.productId}`;\n      vm.$http.get(api).then((response) => {\n        vm.product = response.data.product;\n        vm.productnum = 1;\n        console.log(vm.productId);\n        vm.isLoading = false;\n      });\n    },\n    // 取得所有商品資料\n    getSimilarproducts() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APPCUSTOMPATH}/products/all`;\n      vm.$http.get(api).then((response) => {\n        vm.similarproducts = response.data.products;\n      });\n    },\n    addToCart(product, qty = 1) {\n      const vm = this;\n      let productIndex = -1;\n      vm.getCart();\n      if (vm.cart.length > 0) {\n        vm.cart.forEach((item, index) => {\n          if (item.id === product.id) {\n            productIndex = index;\n          }\n        });\n      }\n      if (productIndex === -1) {\n        const total = parseInt(product.origin_price * qty, 10);\n        vm.$set(product, 'total', total);\n        vm.$set(product, 'qty', qty);\n        vm.cart.push(product);\n      } else {\n        const tempProduct = { ...vm.cart[productIndex] };\n        tempProduct.qty += qty;\n        const total = parseInt(tempProduct.origin_price * tempProduct.qty, 10);\n        tempProduct.total = total;\n        vm.cart.splice(productIndex, 1);\n        vm.cart.push(tempProduct);\n      }\n      localStorage.setItem('cart', JSON.stringify(vm.cart));\n      vm.$bus.$emit('message:push', '商品已加入購物車', 'success');\n      vm.$bus.$emit('cart:get');\n      vm.getCart();\n    },\n    getCart() {\n      const vm = this;\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\n    },\n    // 商品數量變更做判斷\n    changeNum(qty) {\n      const amount = this.productnum + qty;\n      this.changeAmount(amount);\n    },\n    // 商品數量欄位變動時判斷\n    changeAmount(num) {\n      const qty = num;\n      if (qty >= 10) {\n        this.productnum = 10;\n      } else if (qty <= 1) {\n        this.productnum = 1;\n      } else {\n        this.productnum = qty;\n      }\n    },\n    // 取得新一筆商品資料\n    goRelated(id) {\n      this.$router.push(`/ProductDetail/${id}`);\n      this.getProduct(); // 轉換至對應商品的路徑，並且接住商品id參數，從api取得該商品資料，呈現於畫面上\n    },\n  },\n\n  computed: {\n    filterSimilars() {\n      const vm = this;\n      // 過濾出符合特定條件的產品（物件），並將過濾結果返回。\n      return vm.similarproducts.filter(\n        (item) => item.id !== vm.productId\n          && item.category === vm.product.category,\n      );\n    },\n  },\n  created() {\n    this.getProduct();\n    this.getSimilarproducts();\n    this.getCart();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=6d3f9a1a&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}